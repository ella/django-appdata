[tox]
envlist =
    py{311,310,39,38}-django{4.2,3.2}

[testenv]
deps =
    django3.2: Django~=3.2.0
    django4.2: Django~=4.2.0
    coverage>=7
commands =
    {envpython} --version
    {env:COMMAND:coverage} erase
    {env:COMMAND:coverage} run setup.py test
    {env:COMMAND:coverage} report

[pytest]
DJANGO_SETTINGS_MODULE = test_app_data.settings
python_files = test_*.py
traceback = short
addopts = --reuse-db
